<?xml version="1.0"?>

<!--
  File from uPortal2.0 by JASIG. Modified and adapted to OSPI by <a
  href="felipeen@udel.edu">Luis F.C. Mendes</a> - University of
  Delaware
-->
<!-- $Revision: 1.19 $ -->

<tables>

   <table>
    <name>dw_pres_itemdef_mimetype</name>
    <desc>Presentation Item Definition Mimetype Datawarehouse table</desc>
    <columns>
       <column>
         <name>item_def_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>primaryMimeType</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>secondaryMimeType</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
    </columns>
    <not-null>item_def_id</not-null>
   </table>

<table>
    <name>dw_presentation</name>
    <desc>Presentation Datawarehouse table</desc>
    <columns>
       <column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>owner_id</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>template_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>name</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>description</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>isDefault</name>
         <type>TINYINT</type>
       </column>
       <column>
         <name>isPublic</name>
         <type>TINYINT</type>
       </column>
       <column>
         <name>expiresOn</name>
         <type>TIMESTAMP</type>
       </column>
       <column>
         <name>created</name>
         <type>TIMESTAMP</type>
       </column>
       <column>
         <name>modified</name>
         <type>TIMESTAMP</type>
       </column>

    </columns>
    <not-null>id</not-null>
    <not-null>owner_id</not-null>
    <not-null>template_id</not-null>
    <not-null>created</not-null>
    <not-null>modified</not-null>
    <primary-key>id</primary-key>
  </table>

  <table>
    <name>dw_presentation_comment</name>
    <desc>Presentation COmment Datawarehouse table</desc>
    <columns>
       <column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>title</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <!--
       <column>
         <name>commentText</name>
         <type>TEXT</type>
       </column>
        -->
       <column>
         <name>creator_id</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>presentation_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>visibility</name>
         <type>TINYINT</type>
       </column>
       <column>
         <name>created</name>
         <type>TIMESTAMP</type>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>title</not-null>
    <not-null>creator_id</not-null>
    <not-null>presentation_id</not-null>
    <not-null>visibility</not-null>
    <not-null>created</not-null>
    <primary-key>id</primary-key>
  </table>

  <table>
    <name>dw_presentation_item</name>
    <desc>Presentation Item Datawarehouse table</desc>
    <columns>
       <column>
         <name>presentation_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>artifact_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>item_definition_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
    </columns>
    <not-null>presentation_id</not-null>
    <not-null>item_definition_id</not-null>
  </table>

   <table>
    <name>dw_presentation_item_def</name>
    <desc>Presentation Item Definition Datawarehouse table</desc>
    <columns>
       <column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>name</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>title</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>description</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>allowMultiple</name>
         <type>TINYINT</type>
       </column>
       <column>
         <name>type</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>external_type</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>sequence_no</name>
         <type>INTEGER</type>
       </column>
       <column>
         <name>template_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>template_id</not-null>
    <primary-key>id</primary-key>
  </table>

  <table>
    <name>dw_presentation_item_property</name>
    <desc>Presentation Item Property Datawarehouse table</desc>
    <columns>
       <column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>presentation_page_item_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>property_key</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>property_value</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>presentation_page_item_id</not-null>
    <not-null>property_key</not-null>
    <primary-key>id</primary-key>
  </table>

  <table>
    <name>dw_presentation_layout</name>
    <desc>Presentation Layout Datawarehouse table</desc>
    <columns>
       <column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>name</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>description</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>globalState</name>
         <type>TINYINT</type>
       </column>
       <column>
         <name>owner_id</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>created</name>
         <type>TIMESTAMP</type>
       </column>
       <column>
         <name>modified</name>
         <type>TIMESTAMP</type>
       </column>
       <column>
         <name>xhtml_file_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
        <column>
         <name>preview_image_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>tool_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>site_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>name</not-null>
    <not-null>owner_id</not-null>
    <not-null>created</not-null>
    <not-null>modified</not-null>
    <not-null>xhtml_file_id</not-null>
    <primary-key>id</primary-key>
  </table>

  <table>
    <name>dw_presentation_log</name>
    <desc>Presentation Log Datawarehouse table</desc>
    <columns>
    	<column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>viewer_id</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>presentation_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>view_date</name>
         <type>TIMESTAMP</type>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>viewer_id</not-null>
    <not-null>presentation_id</not-null>
    <primary-key>id</primary-key>
  </table>

  <table>
    <name>dw_presentation_page</name>
    <desc>Presentation Page Datawarehouse table</desc>
    <columns>
    	<column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>title</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>presentation_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>layout_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>style_id</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>seq_num</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>created</name>
         <type>TIMESTAMP</type>
       </column>
       <column>
         <name>modified</name>
         <type>TIMESTAMP</type>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>presentation_id</not-null>
    <not-null>layout_id</not-null>
    <not-null>created</not-null>
    <not-null>modified</not-null>
    <primary-key>id</primary-key>
  </table>

  <table>
    <name>dw_presentation_page_item</name>
    <desc>Presentation Page Item Datawarehouse table</desc>
    <columns>
    	<column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>presentation_page_region_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>type</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>value</name>
         <type>VARCHAR</type>
         <param>4000</param>
       </column>
       <column>
         <name>seq_num</name>
         <type>INTEGER</type>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>presentation_page_region_id</not-null>
    <primary-key>id</primary-key>
  </table>

  <table>
    <name>dw_presentation_page_region</name>
    <desc>Presentation Page Region Datawarehouse table</desc>
    <columns>
    	<column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>presentation_page_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>region_id</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>presentation_page_id</not-null>
    <not-null>region_id</not-null>
    <primary-key>id</primary-key>
  </table>


  <table>
    <name>dw_scaffolding_criteria</name>
    <desc>scaffolding Datawarehouse table</desc>
    <columns>
       <column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>parent_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>elt</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>seq_num</name>
         <type>INTEGER</type>
       </column>
       <column>
         <name>scaffolding_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>parent_id</not-null>
    <not-null>scaffolding_id</not-null>
    <primary-key>id</primary-key>
  </table>
  
  <table>
    <name>dw_presentation_template</name>
    <desc>Presentation Template Datawarehouse table</desc>
    <columns>
       <column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>name</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>description</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>includeHeaderAndFooter</name>
         <type>TINYINT</type>
       </column>
       <column>
         <name>published</name>
         <type>TINYINT</type>
       </column>
       <column>
         <name>owner_id</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>renderer</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <!--
       <column>
         <name>markup</name>
         <type>TEXT</type>
       </column>
        -->
       <column>
         <name>propertyPage</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>documentRoot</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>created</name>
         <type>TIMESTAMP</type>
       </column>
       <column>
         <name>modified</name>
         <type>TIMESTAMP</type>
       </column>
       <column>
         <name>site_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>owner_id</not-null>
    <not-null>created</not-null>
    <not-null>modified</not-null>
    <not-null>site_id</not-null>
    <primary-key>id</primary-key>
  </table>

  <table>
    <name>dw_template_file_ref</name>
    <desc>Template File Reference Datawarehouse table</desc>
    <columns>
       <column>
         <name>id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>file_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>file_type_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
       <column>
         <name>usage_desc</name>
         <type>VARCHAR</type>
         <param>255</param>
       </column>
       <column>
         <name>template_id</name>
         <type>VARCHAR</type>
         <param>36</param>
       </column>
    </columns>
    <not-null>id</not-null>
    <not-null>template_id</not-null>
    <primary-key>id</primary-key>
  </table>

   <!-- INDEXES (only use this if setting indexes not in primary keys)-->

  <index>
	<index-name>FK9EA59837CEC82A41</index-name>
	<table-name>dw_pres_itemdef_mimetype</table-name>
	<column>item_def_id</column>
  </index>

  <index>
    <index-name>FKA9028D6D697A9B00</index-name>
    <table-name>dw_presentation</table-name>
    <column>template_id</column>
  </index>

  <index>
    <index-name>FK1E7E658D662DE460</index-name>
    <table-name>dw_presentation_comment</table-name>
    <column>presentation_id</column>
  </index>

  <index>
    <index-name>FK2FA02A5FB2AC75B</index-name>
    <table-name>dw_presentation_item</table-name>
    <column>item_definition_id</column>
  </index>
   <index>
    <index-name>FK2FA02A5662DE460</index-name>
    <table-name>dw_presentation_item</table-name>
    <column>presentation_id</column>
  </index>

  <index>
    <index-name>FK1B6ADB6B697A9B00</index-name>
    <table-name>dw_presentation_item_def</table-name>
    <column>template_id</column>
  </index>

  <index>
    <index-name>FK86B136F2150091C</index-name>
    <table-name>dw_presentation_item_property</table-name>
    <column>presentation_page_item_id</column>
  </index>

  <index>
    <index-name>FK2120E172662DE460</index-name>
    <table-name>dw_presentation_log</table-name>
    <column>presentation_id</column>
  </index>

  <index>
    <index-name>FK2FCEA21662DE460</index-name>
    <table-name>dw_presentation_page</table-name>
    <column>presentation_id</column>
  </index>
  <index>
    <index-name>FK2FCEA21AE13AE50</index-name>
    <table-name>dw_presentation_page</table-name>
    <column>layout_id</column>
  </index>

  <index>
    <index-name>FK64176719185445B</index-name>
    <table-name>dw_presentation_page_item</table-name>
    <column>presentation_page_region_id</column>
  </index>

  <index>
    <index-name>FK8A46C2D295B9BCA6</index-name>
    <table-name>dw_presentation_page_region</table-name>
    <column>presentation_page_id</column>
  </index>

  <index>
    <index-name>FK4B70FB02697A9B00</index-name>
    <table-name>dw_template_file_ref</table-name>
    <column>template_id</column>
  </index>

</tables>
